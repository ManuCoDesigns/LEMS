// This is your Prisma schema file
// Learn more: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

// ============================================
// ENUMS
// ============================================

enum UserRole {
  SUPER_ADMIN
  SCHOOL_ADMIN
  TEACHER
  STUDENT
  PARENT
  GUEST
}

enum UserStatus {
  ACTIVE
  INACTIVE
  SUSPENDED
  PENDING
}

enum Gender {
  MALE
  FEMALE
  OTHER
}

// ============================================
// USER MANAGEMENT
// ============================================

model User {
  id        String   @id @default(uuid())
  email     String   @unique
  password  String
  role      UserRole @default(STUDENT)
  status    UserStatus @default(PENDING)
  
  // Personal Information
  firstName String
  lastName  String
  middleName String?
  dateOfBirth DateTime?
  gender    Gender?
  phone     String?
  avatar    String?
  
  // Address
  address   String?
  city      String?
  state     String?
  country   String?
  postalCode String?
  
  // Security
  emailVerified Boolean @default(false)
  emailVerifiedAt DateTime?
  lastLogin DateTime?
  refreshToken String?
  
  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@map("users")
}